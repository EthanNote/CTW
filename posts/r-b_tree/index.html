<!DOCTYPE html>
<html lang="zh">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="EthanNote">
    <meta name="description" content="Personal website">
    <meta name="keywords" content="blog,developer,personal">

    <base href="//localhost:1313/CTW/">
    <title>
  R-B Tree · Code The World
</title>

    <link rel="canonical" href="//localhost:1313/CTW/posts/r-b_tree/">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css" integrity="sha256-oSrCnRYXvHG31SBifqP2PM1uje7SJUyX0nTwO2RJV54=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="//localhost:1313/CTW/css/coder.css" media="screen">
    

    

    

    <link rel="icon" type="image/png" href="//localhost:1313/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="//localhost:1313/images/favicon-16x16.png" sizes="16x16">

    

    <meta name="generator" content="Hugo 0.48" />
  </head>

  <body class="">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="//localhost:1313/CTW/">
      Code The World
    </a>
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="//localhost:1313/CTW/posts/">Blog</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="//localhost:1313/CTW/about/">About</a>
          </li>
        
      
      
    </ul>
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
  <article>
    <header>
      <h1 class="title">R-B Tree</h1>
      <h2 class="date">September 5, 2018</h2>

      
    </header>

    

<p><a href="https://blog.csdn.net/v_JULY_v/article/details/6105630">https://blog.csdn.net/v_JULY_v/article/details/6105630</a></p>

<h3 id="性质">性质</h3>

<ol>
<li>每个结点要么是红的要么是黑的。  </li>
<li>根结点是黑的。  </li>
<li>每个叶结点（叶结点即指树尾端NIL指针或NULL结点）都是黑的。  </li>
<li>如果一个结点是红的，那么它的两个儿子都是黑的。  </li>
<li>对于任意结点而言，其到叶结点树尾端NIL指针的每条路径都包含相同数目的黑结点。 </li>
</ol>

<h3 id="插入">插入</h3>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4">RB-INSERT(T, z)
y ← nil
x ← T.root
while x ≠ T.nil
    do y ← x
    if z.key &lt; x.key
        then x ← x.left
    else x ← x.right
z.p ← y
if y == nil[T]
    then T.root ← z
else if z.key &lt; y.key
    then y.left ← z
else y.right ← z
z.left ← T.nil
z.right ← T.nil
z.color ← RED
RB-INSERT-FIXUP(T, z)</pre></div>
<p>RB-INSERT(T, z)前面的第1～13行代码基本上就是二叉查找树的插入代码，然后第14～16行代码把z的左孩子和右孩子都赋为叶结点nil，再把z结点着为红色，最后为保证红黑性质在插入操作后依然保持，调用一个辅助程序RB-INSERT-FIXUP来对结点进行重新着色，并旋转。</p>

<p>换言之，如果插入的是根结点，由于原树是空树，此情况只会违反性质2，因此直接把此结点涂为黑色；如果插入的结点的父结点是黑色，由于此不会违反性质2和性质4，红黑树没有被破坏，所以此时什么也不做。</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4">RB-INSERT-FIXUP(T, z)
while z.p.color == RED
    do if z.p == z.p.p.left
        then y ← z.p.p.right
        if y.color == RED
            then z.p.color ← BLACK               # Case 1
            y.color ← BLACK                      # Case 1
            z.p.p.color ← RED                    # Case 1
            z ← z.p.p                            # Case 1
        else if z == z.p.right
            then z ← z.p                         # Case 2
            LEFT-ROTATE(T, z)                     # Case 2
        z.p.color ← BLACK                        # Case 3
        z.p.p.color ← RED                        # Case 3
        RIGHT-ROTATE(T, z.p.p)                    # Case 3
    else (same as then clause with &#34;right&#34; and &#34;left&#34; exchanged)
T.root.color ← BLACK</pre></div>
<h3 id="插入修复情况">插入修复情况</h3>

<ol>
<li>当前结点的父结点是红色，祖父结点的另一个子结点（叔叔结点）是红色。</li>
<li>当前节点的父节点是红色,叔叔节点是黑色，当前节点是其父节点的右子</li>
<li>当前节点的父节点是红色,叔叔节点是黑色，当前节点是其父节点的左孩子</li>
</ol>

  </article>

  <br/>

  
  
</section>

      </div>

      <footer class="footer">
  <section class="container">
    
      <p>God blame Xidian Univerisity.</p>
    
     © 2018    ·  Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>. 
  </section>
</footer>

    </main>

    

  <script data-no-instant>document.write('<script src="/livereload.js?port=1313&mindelay=10"></' + 'script>')</script></body>

</html>
